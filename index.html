<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="shortcut icon"
      href="./assets/images/logo.png"
      type="image/x-icon"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <title>Face Filter Pro</title>
  </head>
  <body>
    <header>
      <span class="header-left">Face Filter Pro</span>
      <div class="header-right">
        <input
          type="file"
          id="image-selector"
          accept="image/*"
          multiple
          style="display: none"
        />
        <button type="button" class="auth-btn" id="upload-btn">
          <span>Upload</span>
          <i class="bx bx-upload"></i>
        </button>
        <button type="button" class="auth-btn" id="sign-in-btn">
          <span>Login</span>
          <i class="bx bxl-google"></i>
        </button>
        <button
          type="button"
          class="auth-btn"
          style="display: none"
          id="sign-out-btn"
        >
          <span>Logout</span>
          <i class="bx bx-power-off"></i>
        </button>
        <div class="profile" id="profile" style="display: none">
          <span class="user-name" id="profile-name">User</span>
          <img
            id="profile-image"
            alt="Profile"
            height="30"
            width="30"
          />
        </div>
      </div>
    </header>

    <section>
      <div class="face-container" id="face-container">
        <input
          type="file"
          id="face-selector"
          accept="image/*"
          style="display: none"
        />
        <div class="add-face-btn" id="add-face-btn" title="Add Face Image">
          <span class="height:100px; width:100px;">+</span>
        </div>
      </div>

      <div class="image-tab">
        <div class="tab-btn" id="tab-btn">
          <input
            type="radio"
            id="all-images"
            name="tab"
            value="all-images"
            checked
            onclick="showTab('all-images', 'all-images-tab')"
          />
          <label for="all-images">All Images</label>
          <label for="tooltip-btn" class="tooltip-btn-label">
            <i class='bx bx-dots-vertical-rounded'></i>
          </label>
        </div>

        <div class="tab-container" id="tab-container">
          <input type="checkbox" id="tooltip-btn" style="display: none;">
          <div class="tooltip">
            <button type="button" onclick="downloadImages()">
              Download
              <i class='bx bxs-download' ></i>
            </button>
            <hr>
            <button type="button" onclick="deleteImages()">
              Delete
              <i class='bx bxs-coffee-togo'></i>
            </button>
          </div>
          <!-- All Images tab content -->
          <div id="all-images-tab" class="tab-content">
            <p>No images to show...</p>
          </div>
        </div>
      </div>
    </section>

    <div class="modal" id="err-modal">
      <div class="modal-content" id="err-modal-content">
        <span class="close-button" id="err-modal-close-button" onclick="toggleModal('err-modal')">
          <i class="bx bx-x"></i>
        </span>
        <i class="bx bxs-error"></i>
        <p>Please login with google first</p>
      </div>
    </div>
    
    <div class="modal" id="down-del-modal">
      <div class="modal-content">
        <span class="close-button" onclick="toggleModal('down-del-modal')">
          <i class="bx bx-x"></i>
        </span>
        <i class="bx bxs-error"></i>
        <p>No Images to download/delete...</p>
      </div>
    </div>

    <div class="modal" id="progress-modal">
      <div class="modal-content" id="progress-modal-content">
        <div class="loader-parent">
          <img src="./assets/images/progress.gif" alt="Loader" srcset="" style="height: 100px; width: 100px;">
        </div>
        <p>In Progress... <span id="progress-status" style="font-size: 22px; font-weight: 400;">(0/0)</span></p>
      </div>
    </div>

    <div class="modal" id="loading-modal">
      <div class="modal-content" id="loading-modal-content">
        <div class="loader-parent">
          <div class="loader"></div>
        </div>
        <p>Loading...</p>
      </div>
    </div>

    <!-- Include the Google API scripts -->
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="face-api.js"></script>

    <!-- Include your JavaScript files -->
    <script src="./js/faceReco.js" defer></script>
    <script src="./js/gAuth.js" defer></script>
    <script src="./js/fileHandle.js" defer></script>
    <script src="./script.js" defer></script>
  </body>
</html>
